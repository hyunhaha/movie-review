{"version":3,"sources":["components/movie_detail/movie_detail.module.css","components/header/header.module.css","components/review_item/review_item.module.css","components/review_page/review_page.module.css","components/main_page/main_page.module.css","components/movie_item/movie_item.module.css","components/actor/actor.module.css","components/my_review/my_review.module.css","components/image_upload_button/image_upload_button.module.css","components/login/login.module.css","components/search_bar/search_bar.module.css","components/movie_list/movie_list.module.css","components/search_result/search_result.module.css","app.module.css","components/star_rating/star_rating.jsx","components/review_page/review_page.jsx","components/actor/actor.jsx","components/movie_detail/movie_detail.jsx","components/movie_item/moive_item.jsx","components/movie_list/movie_list.jsx","components/main_page/main_page.jsx","components/search_result/search_result.jsx","components/login/login.jsx","components/search_bar/search_bar.jsx","components/header/header.jsx","components/review_item/review_item.jsx","components/my_review/my_review.jsx","app.jsx","service/movieDB.js","service/firebase.js","service/auth_service.js","service/review_repository.js","components/image_upload_button/image_upload_button.jsx","service/image_uploader.js","index.js"],"names":["module","exports","StarRating","value","userId","setRate","history","useHistory","useState","star","setStar","onChange","console","log","push","secondaryColor","ReviewPage","modalOff","reviewRepository","movieId","FileInput","formRef","useRef","reviewRef","rate","review","setReview","fileName","fileURL","imageFile","setImageFile","useEffect","stopSync","syncReview","reviews","setReviewData","id","movie_id","edit_date","Date","now","review_content","current","saveReview","addOrUpdateCard","event","currentTarget","preventDefault","className","styles","modal","review_container","closeButton","onClick","header","form","ref","reviewContent","name","placeholder","onFileChanged","file","url","saveButton","hide","cogoToast","success","position","Actor","actor","imagewrap","style","profile_path","background","backgroundPosition","backgroundSize","actorDetail","character","MovieDetail","movieDB","params","useParams","detail","setDetail","modalState","setModalState","setUserId","actors","setActors","posterURL","poster_path","readmore","setReadmore","movieDetail","then","result","credits","cast","localStorage","getItem","background_div","backgroundimage","bg","backdrop_path","backgroundDimmed","posterPartWrap","poster_title","poster_div","poster_image","src","alt","title","movie_detail","release_date","split","production_countries","genres","rating","vote_average","reviewButton","representativeWrap","representative","description","basicInfo","movieInfoTitle","Math","round","runtime","overviewOpen","overviewClose","overview","overviewReadmore","actorsList","map","key","MoiveItem","movie","ranking","date_arr","to","item","imagestandard","image","rank","MovieList","movies","list","index","MainPage","authService","setMovies","mounted","mostPopular","items","main","movie_chart","SearchResult","length","Login","gotoMain","useCallback","userID","pathname","state","window","setItem","onAuthChange","user","uid","login","google_login","textContent","data","SearchBar","onSearch","inputRef","label","input","type","onKeyPress","Header","setLogin","list_logo","logo","list_searchbar","searchbar","query","loginCase","myPageButton","myPageTitle","loginButton","ReviewItem","posterUrl","itemWrap","posterWrap","poster","reviewimgWrap","photoCard","reviewImg","myRate","button","MyReview","setReviews","logoutButton","logout","removeItem","Object","keys","App","app","search","exact","path","MovieDB","this","getRequestOptions","method","redirect","fetch","response","json","results","firebaseApp","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","firebaseAuth","auth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","AuthService","providerName","authProvicer","getProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","Error","ReviewRepository","onUpdate","on","snapshot","val","off","set","ImageUploadButton","imageUploader","loading","setLoading","a","upload","target","files","uploaded","original_filename","secure_url","accept","click","ImageUploader","FormData","append","body","ReactDOM","render","StrictMode","props","document","getElementById"],"mappings":"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","file":"static/js/main.b0b901f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"movie_detail_detail__17uzy\",\"background_div\":\"movie_detail_background_div__1SamL\",\"backgroundimage\":\"movie_detail_backgroundimage__wspRs\",\"bg\":\"movie_detail_bg__33hWf\",\"backgroundDimmed\":\"movie_detail_backgroundDimmed__3JbR6\",\"posterPartWrap\":\"movie_detail_posterPartWrap__1JWrA\",\"poster_title\":\"movie_detail_poster_title__f3ffL\",\"poster_div\":\"movie_detail_poster_div__3zYwW\",\"poster_image\":\"movie_detail_poster_image__2iFFH\",\"title\":\"movie_detail_title__K4rsS\",\"movie_detail\":\"movie_detail_movie_detail__34fxY\",\"reviewButton\":\"movie_detail_reviewButton__2Cvn7\",\"representativeWrap\":\"movie_detail_representativeWrap__1vJXj\",\"representative\":\"movie_detail_representative__Td_b8\",\"description\":\"movie_detail_description__2gA-l\",\"basicInfo\":\"movie_detail_basicInfo__mzK3E\",\"movieInfoTitle\":\"movie_detail_movieInfoTitle__2d0IZ\",\"overviewOpen\":\"movie_detail_overviewOpen__MdurU\",\"overviewClose\":\"movie_detail_overviewClose__2SoBk\",\"overviewReadmore\":\"movie_detail_overviewReadmore__3OMvo\",\"actors\":\"movie_detail_actors__3pcwu\",\"actorsList\":\"movie_detail_actorsList__7dJCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__v9FKw\",\"list\":\"header_list__3q1VQ\",\"list_logo\":\"header_list_logo__1VHfT\",\"logo\":\"header_logo__1X7aW\",\"list_searchbar\":\"header_list_searchbar__1s5Rf\",\"searchbar\":\"header_searchbar__3s-g4\",\"loginButton\":\"header_loginButton__3O3nR\",\"loginCase\":\"header_loginCase__2rVPe\",\"myPageButton\":\"header_myPageButton__1KeRT\",\"myPageTitle\":\"header_myPageTitle__1XC2f\",\"reviewButton\":\"header_reviewButton__RIce5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrap\":\"review_item_itemWrap__2_5wW\",\"item\":\"review_item_item__3FOG9\",\"posterWrap\":\"review_item_posterWrap__3vAKm\",\"reviewimgWrap\":\"review_item_reviewimgWrap__26yNE\",\"poster\":\"review_item_poster__349Dj\",\"photoCard\":\"review_item_photoCard__3e_Dt\",\"reviewImg\":\"review_item_reviewImg__2vwRG\",\"title\":\"review_item_title__1KSE7\",\"myRate\":\"review_item_myRate__2H8Uh\",\"button\":\"review_item_button__26ow1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"review_page_modal__3IVA5\",\"review_container\":\"review_page_review_container__3dldI\",\"closeButton\":\"review_page_closeButton__Gv-L6\",\"header\":\"review_page_header__1kOJg\",\"star\":\"review_page_star__epgry\",\"form\":\"review_page_form__2o9Yd\",\"reviewContent\":\"review_page_reviewContent__2NsNb\",\"saveButton\":\"review_page_saveButton__2tlpZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_page_main__3YjCI\",\"movie_chart\":\"main_page_movie_chart__Sv9tu\",\"title\":\"main_page_title__3bv8a\",\"list\":\"main_page_list__1y194\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"movie_item_item__1BBbD\",\"rank\":\"movie_item_rank__1h7LJ\",\"imagestandard\":\"movie_item_imagestandard__1XcwK\",\"image\":\"movie_item_image__1wFyM\",\"title\":\"movie_item_title__2lDOy\",\"release_date\":\"movie_item_release_date__3p6mB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actor\":\"actor_actor__HcF4I\",\"imagewrap\":\"actor_imagewrap__2JB2a\",\"actorDetail\":\"actor_actorDetail__1HX0l\",\"name\":\"actor_name__1ZjyX\",\"character\":\"actor_character__1gvhE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"review\":\"my_review_review__3WgSa\",\"logoutButton\":\"my_review_logoutButton__2z9ni\",\"title\":\"my_review_title__BAM1I\",\"list\":\"my_review_list__1I_z7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"upload\":\"image_upload_button_upload__33oMZ\",\"input\":\"image_upload_button_input__3lRE7\",\"button\":\"image_upload_button_button__2H0gW\",\"loading\":\"image_upload_button_loading__3YCg3\",\"spin\":\"image_upload_button_spin__TKxbB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__19aQM\",\"list\":\"login_list__17HtO\",\"google_login\":\"login_google_login__2KSYt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"search_bar_form__1KUDi\",\"label\":\"search_bar_label__3BU1e\",\"input\":\"search_bar_input__l57oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"movie_list_list__3siMy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"search_result_movie__RBOjQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__cewju\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport ReactStarsRating from \"react-awesome-stars-rating\";\nimport { useHistory } from \"react-router-dom\";\nconst StarRating = ({ value, userId, setRate }) => {\n  const history = useHistory();\n\n  const [star, setStar] = useState(value);\n  const onChange = value => {\n    console.log(`rate is ${value}`);\n    if (!userId) {\n      history.push(\"/login\");\n    } else {\n      setRate(value); //데이터베이스 전달\n      setStar(value); //별 표시\n    }\n  };\n\n  return (\n    <ReactStarsRating\n      onChange={onChange}\n      value={star ? star : value}\n      secondaryColor={\"lightgray\"}\n    />\n  );\n};\n\nexport default StarRating;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport StarRating from \"../star_rating/star_rating\";\nimport styles from \"./review_page.module.css\";\nimport cogoToast from \"cogo-toast\";\n\nconst ReviewPage = ({\n  modalOff,\n  reviewRepository,\n  movieId,\n  userId,\n  FileInput,\n}) => {\n  const formRef = useRef();\n  const reviewRef = useRef();\n  const [rate, setRate] = useState(0);\n  const [review, setReview] = useState();\n  const [imageFile, setImageFile] = useState({ fileName: null, fileURL: null });\n\n  useEffect(() => {\n    if (!userId) return;\n\n    const stopSync = reviewRepository.syncReview(userId, reviews => {\n      setReview(reviews[movieId]);\n    });\n\n    return () => stopSync();\n  }, [reviewRepository, userId, movieId]);\n\n  useEffect(() => {\n    setRate(review && review.rate);\n  }, [review]);\n\n  const onCloseClick = () => {\n    modalOff();\n  };\n\n  const addOrUpdateCard = review => {\n    reviewRepository.saveReview(userId, review);\n  };\n\n  const setReviewData = () => {\n    const review = {\n      id: movieId,\n      movie_id: movieId,\n      edit_date: Date.now() || \"\",\n      review_content: reviewRef.current.value || \"\",\n      rate: rate,\n      fileName: imageFile.fileName || \"\",\n      fileURL: imageFile.fileURL || \"\",\n    };\n    console.log(review);\n    addOrUpdateCard(review);\n\n    reviewRef.current.value = review.review_content;\n  };\n\n  const onChange = event => {\n    if (event.currentTarget === null) {\n      return;\n    }\n    event.preventDefault();\n    setReviewData();\n  };\n\n  const onSaveClick = event => {\n    event.preventDefault();\n    setImageFile({ fileName: null, fileURL: null });\n    setReviewData();\n\n    const { hide } = cogoToast.success(\"평점과 리뷰가 저장되었습니다.\", {\n      onClick: () => {\n        hide();\n      },\n      position: \"top-center\",\n    });\n  };\n\n  const onSetRate = value => {\n    setRate(value);\n  };\n\n  const onFileChanged = file => {\n    setImageFile({\n      fileName: file.name,\n      fileURL: file.url,\n    });\n  };\n  return (\n    <div className={styles.modal}>\n      <div className={styles.review_container}>\n        <button className={styles.closeButton} onClick={onCloseClick}>\n          x\n        </button>\n        <h1 className={styles.header}>리뷰페이지</h1>\n        <div className={styles.star}>\n          <StarRating\n            userId={userId}\n            setRate={onSetRate}\n            value={review && review.rate}\n            onChange={onChange}\n          />\n        </div>\n        <form className={styles.form} ref={formRef}>\n          <textarea\n            className={styles.reviewContent}\n            ref={reviewRef}\n            name=\"review_content\"\n            value={review && review.review_content}\n            onChange={onChange}\n            placeholder=\"리뷰를 작성해주세요\"\n          ></textarea>\n          <FileInput onFileChanged={onFileChanged} name={imageFile.fileName} />\n          <button className={styles.saveButton} onClick={onSaveClick}>\n            저장하기\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewPage;\n","import React from \"react\";\nimport styles from \"./actor.module.css\";\nconst Actor = ({ actor }) => {\n  return (\n    <li className={styles.actor}>\n      <div\n        className={styles.imagewrap}\n        style={\n          actor.profile_path && {\n            background: `url('https://image.tmdb.org/t/p/w500${actor.profile_path}')`,\n            backgroundPosition: \"center ,center\",\n            backgroundSize: \"100%\",\n          }\n        }\n      >\n        {/* <img\n          className={styles.image}\n          src={\n            actor.profile_path\n              ? `https://image.tmdb.org/t/p/w500${actor.profile_path}`\n              : null\n          }\n          alt=\"\"\n        /> */}\n      </div>\n      <div className={styles.actorDetail}>\n        <div className={styles.name}>{actor.name}</div>\n        <div className={styles.character}>{`${actor.character} 역`}</div>\n      </div>\n    </li>\n  );\n};\n\nexport default Actor;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport ReviewPage from \"../review_page/review_page\";\nimport Actor from \"../actor/actor\";\nimport styles from \"./movie_detail.module.css\";\n\nconst MovieDetail = ({ movieDB, reviewRepository, FileInput }) => {\n  const params = useParams();\n  const history = useHistory();\n  const [detail, setDetail] = useState([]);\n  const [modalState, setModalState] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const [actors, setActors] = useState([]);\n  const posterURL = \"https://image.tmdb.org/t/p/w500\" + detail.poster_path;\n  // const backimgURL = \"https://image.tmdb.org/t/p/w1280\" + detail.backdrop_path;\n  const [readmore, setReadmore] = useState(true);\n  useEffect(() => {\n    movieDB.movieDetail(params.id).then(result => {\n      setDetail(result);\n    });\n    movieDB.credits(params.id).then(result => {\n      setActors(result.cast);\n    });\n    setUserId(localStorage.getItem(\"userId\"));\n  }, [movieDB, params.id]);\n\n  const onReviewClick = () => {\n    if (!userId) {\n      history.push(\"/login\");\n      setModalState(false);\n    } else {\n      setModalState(true);\n    }\n  };\n  const modalOff = () => {\n    setModalState(false);\n  };\n  const onReadmoreClick = () => {\n    if (!readmore) {\n      setReadmore(true);\n    } else {\n      setReadmore(false);\n    }\n  };\n\n  return (\n    <div className={styles.detail}>\n      <div className={styles.background_div}>\n        <div className={styles.backgroundimage}>\n          <div\n            className={styles.bg}\n            style={\n              detail.backdrop_path && {\n                background: `url('https://image.tmdb.org/t/p/w1280${detail.backdrop_path}') no-repeat`,\n                backgroundPosition: \"center, center\",\n                backgroundSize: \"100%\",\n              }\n            }\n          ></div>\n        </div>\n        {/* <img\n          className={styles.backgroundimage}\n          src={detail.poster_path ? backimgURL : null}\n          alt=\"background\"\n        /> */}\n        <div className={styles.backgroundDimmed}></div>\n      </div>\n      <div className={styles.posterPartWrap}>\n        <div className={styles.poster_title}>\n          <div className={styles.poster_div}>\n            <img\n              className={styles.poster_image}\n              src={detail.poster_path ? posterURL : null}\n              alt=\"poster\"\n            />\n          </div>\n          <h1 className={styles.title}>{detail.title}</h1>\n          <p className={styles.movie_detail}>{`${\n            detail.release_date && detail.release_date.split(\"-\")[0]\n          } ・ ${\n            detail.production_countries && detail.production_countries[0].name\n          } ・ ${detail.genres && detail.genres[0].name}`}</p>\n\n          <p className={styles.rating}>{`평점 ${detail.vote_average / 2}`}</p>\n          <button className={styles.reviewButton} onClick={onReviewClick}>\n            리뷰쓰기\n          </button>\n        </div>\n      </div>\n      <div className={styles.representativeWrap}>\n        <div className={styles.representative}>\n          <div className={styles.description}>\n            <div className={styles.basicInfo}>\n              <h2 className={styles.movieInfoTitle}>영화정보</h2>\n              <p>{detail.title}</p>\n              <p>{`${\n                detail.release_date && detail.release_date.split(\"-\")[0]\n              } ・ ${\n                detail.production_countries &&\n                detail.production_countries[0].name\n              } ・ ${detail.genres && detail.genres[0].name}`}</p>\n              <p>\n                {`${Math.round(detail.runtime / 60)}시간 \n              ${detail.runtime % 60}분`}\n              </p>\n              <p\n                className={\n                  readmore ? styles.overviewOpen : styles.overviewClose\n                }\n              >\n                {detail.overview}\n              </p>\n              <div\n                className={styles.overviewReadmore}\n                onClick={onReadmoreClick}\n              >\n                {readmore ? \"더보기\" : \"닫기\"}\n              </div>\n            </div>\n            <div className={styles.actors}>\n              <h2>출연진</h2>\n              <ul className={styles.actorsList}>\n                {actors.map(actor => (\n                  <Actor key={actor.id} actor={actor} />\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      {modalState && (\n        <ReviewPage\n          modalOff={modalOff}\n          reviewRepository={reviewRepository}\n          movieId={params.id}\n          userId={userId}\n          FileInput={FileInput}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetail;\n","import React from \"react\";\nimport styles from \"./movie_item.module.css\";\nimport { Link } from \"react-router-dom\";\n\nconst MoiveItem = ({ movie, ranking }) => {\n  const { poster_path, release_date, id, title, vote_average } = movie;\n  const url = \"https://image.tmdb.org/t/p/w500\" + poster_path;\n  const date_arr = release_date.split(\"-\");\n\n  return (\n    <Link to={`/detail/${id}`}>\n      <li className={styles.item}>\n        <div className={styles.imagestandard}>\n          <img className={styles.image} src={url} alt=\"poster\" />\n        </div>\n        <div className={styles.rank}>{ranking + 1}</div>\n        <h1 className={styles.title}>{title}</h1>\n        {/* <p>{movie.overview}</p> */}\n        <p className={styles.release_date}>{`${date_arr[0]} • 평점 ${\n          vote_average / 2\n        }`}</p>\n      </li>\n    </Link>\n  );\n};\n\nexport default MoiveItem;\n","import React from \"react\";\nimport MoiveItem from \"../movie_item/moive_item\";\nimport styles from \"./movie_list.module.css\";\nconst MovieList = ({ movies }) => (\n  <ul className={styles.list}>\n    {movies.map((movie, index) => (\n      <MoiveItem key={movie.id} movie={movie} ranking={index} />\n    ))}\n  </ul>\n);\n\nexport default MovieList;\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport MovieList from \"../movie_list/movie_list\";\nimport styles from \"./main_page.module.css\";\nconst MainPage = ({ movieDB, authService }) => {\n  const [movies, setMovies] = useState([]);\n\n  // const historyState = useHistory().state;\n  // const [userId, setUserId] = useState(historyState && historyState.id);\n  useEffect(() => {\n    let mounted = true;\n    movieDB\n      .mostPopular() //\n      .then(items => {\n        mounted && setMovies(items);\n      });\n    return () => (mounted = false);\n  }, [movieDB]);\n  // useEffect(() => {\n  //   let mounted = true;\n  //   authService.onAuthChange(user => {\n  //     if (user && mounted) {\n  //       setUserId(user.uid);\n  //     } else {\n  //     }\n  //   });\n  //   return () => (mounted = false);\n  // }, [authService]);\n\n  return (\n    <div className={styles.main}>\n      <div className={styles.movie_chart}>\n        <h1 className={styles.title}>영화 순위</h1>\n        <MovieList movies={movies} />\n      </div>\n      <div className={styles.movie_chart}>\n        <h1 className={styles.title}>영화 순위</h1>\n        <MovieList movies={movies} />\n      </div>\n      <div className={styles.movie_chart}>\n        <h1 className={styles.title}>영화 순위</h1>\n        <MovieList movies={movies} />\n      </div>\n    </div>\n  );\n};\n\nexport default MainPage;\n","import React from \"react\";\n\nimport MovieList from \"../movie_list/movie_list\";\nimport styles from \"./search_result.module.css\";\nconst SearchResult = ({ movies }) => {\n  return (\n    <div className={styles.movie}>\n      {movies.length === 0 ? (\n        <h1>검색 결과가 없습니다.</h1>\n      ) : (\n        <MovieList movies={movies} />\n      )}\n    </div>\n  );\n};\n\nexport default SearchResult;\n","import React from \"react\";\nimport { useCallback } from \"react\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styles from \"./login.module.css\";\nconst Login = ({ authService }) => {\n  const history = useHistory();\n  const gotoMain = useCallback(\n    userID => {\n      history.push({\n        pathname: \"/\",\n        state: { id: userID },\n      });\n      window.localStorage.setItem(\"userId\", userID);\n    },\n    [history]\n  );\n  // console.log(useHistory().state);\n  const onLogin = event => {\n    authService //\n      .login(event.currentTarget.textContent)\n      .then(data => gotoMain(data.user.uid));\n  };\n  useEffect(() => {\n    authService.onAuthChange(user => {\n      if (user) {\n        gotoMain(user.uid);\n      }\n    });\n  }, [authService, gotoMain]);\n  return (\n    <section className={styles.login}>\n      <header>로그인이 필요합니다</header>\n      <section>\n        <h1>login</h1>\n        <ul className={styles.list}>\n          <li>\n            <button className={styles.google_login} onClick={onLogin}>\n              Google\n            </button>\n          </li>\n          {/* <li>\n            <button>Github</button>\n          </li> */}\n        </ul>\n      </section>\n    </section>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styles from \"./search_bar.module.css\";\nconst SearchBar = ({ onSearch }) => {\n  const inputRef = useRef();\n  const history = useHistory();\n  const onKeyPress = event => {\n    const value = inputRef.current.value;\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      console.log(value);\n      value && onSearch(value);\n      history.push(\"/search-result\");\n      inputRef.current.value = \"\";\n    }\n  };\n\n  return (\n    <form className={styles.form}>\n      <label className={styles.label}>\n        <input\n          className={styles.input}\n          ref={inputRef}\n          type=\"text\"\n          placeholder=\"search...\"\n          onKeyPress={onKeyPress}\n        />\n      </label>\n    </form>\n  );\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport SearchBar from \"../search_bar/search_bar\";\nimport styles from \"./header.module.css\";\nconst Header = ({ onSearch, authService }) => {\n  const history = useHistory();\n  const [login, setLogin] = useState(false);\n  const gotoLoginPage = () => {\n    history.push(\"/login\");\n  };\n\n  const onSearchWord = query => {\n    onSearch(query);\n  };\n  // const onLogout = () => {\n  //   authService.logout();\n  //   window.localStorage.removeItem(\"userId\");\n  //   history.push(\"/\");\n  // };\n  const goMyPage = () => {\n    history.push(\"/my-review\");\n  };\n  useEffect(() => {\n    authService.onAuthChange(user => {\n      if (!user) {\n        setLogin(false);\n      } else {\n        setLogin(true);\n      }\n    });\n  });\n  const onLogoClick = event => {\n    event.preventDefault();\n    history.push(\"/\");\n  };\n  return (\n    <div className={styles.header}>\n      <ul className={styles.list}>\n        <li className={styles.list_logo}>\n          <img\n            onClick={onLogoClick}\n            className={styles.logo}\n            src=\"/images/logo.png\"\n            alt=\"logo\"\n          />\n        </li>\n        <li className={styles.list_searchbar}>\n          <div className={styles.searchbar}>\n            <SearchBar onSearch={onSearchWord} />\n          </div>\n        </li>\n        <li>\n          {login ? (\n            <div className={styles.loginCase}>\n              <button\n                className={styles.myPageButton}\n                onClick={goMyPage}\n              ></button>\n              <div className={styles.myPageTitle}>My Page</div>\n            </div>\n          ) : (\n            <button className={styles.loginButton} onClick={gotoLoginPage}>\n              login\n            </button>\n          )}\n        </li>\n        {/* <li>\n          <button\n            className={styles.reviewButton}\n            onClick={login ? gotoReveiwPage : gotoLoginPage}\n          >\n            my review\n          </button>\n        </li> */}\n      </ul>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport ReviewPage from \"../review_page/review_page\";\nimport styles from \"./review_item.module.css\";\nconst ReviewItem = ({\n  review,\n  movieDB,\n  reviewRepository,\n  userId,\n  FileInput,\n}) => {\n  const [detail, setDetail] = useState([]);\n  const [modalState, setModalState] = useState(false);\n  const { id, fileURL } = review;\n  const posterUrl = \"https://image.tmdb.org/t/p/w500\" + detail.poster_path;\n\n  useEffect(() => {\n    movieDB.movieDetail(id).then(result => {\n      setDetail(result);\n    });\n  }, [movieDB, id]);\n\n  const onClick = () => {\n    setModalState(true);\n  };\n\n  const modalOff = () => {\n    setModalState(false);\n  };\n\n  return (\n    <div className={styles.itemWrap}>\n      <li className={styles.item}>\n        <div className={styles.posterWrap}>\n          <img\n            className={styles.poster}\n            src={detail.poster_path ? posterUrl : null}\n            alt=\"poster\"\n          />\n          {fileURL && (\n            <div className={styles.reviewimgWrap}>\n              <div className={styles.photoCard}>\n                <img\n                  className={styles.reviewImg}\n                  src={review.fileURL}\n                  alt=\"review\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        <h1 className={styles.title}>{detail.title}</h1>\n        <p className={styles.myRate}>나의평점 {review.rate}</p>\n        <button className={styles.button} onClick={onClick}>\n          리뷰열기\n        </button>\n      </li>\n      {modalState && (\n        <ReviewPage\n          modalOff={modalOff}\n          reviewRepository={reviewRepository}\n          movieId={id}\n          userId={userId}\n          FileInput={FileInput}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ReviewItem;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ReviewItem from \"../review_item/review_item\";\nimport styles from \"./my_review.module.css\";\n\nconst MyReview = ({ reviewRepository, movieDB, authService, FileInput }) => {\n  const [reviews, setReviews] = useState({});\n  const [userId, setUserId] = useState();\n  const history = useHistory();\n\n  useEffect(() => {\n    setUserId(localStorage.getItem(\"userId\"));\n    if (!userId) {\n      return;\n    }\n    const stopSync = reviewRepository.syncReview(userId, reviews => {\n      setReviews(reviews);\n    });\n    console.log(\"reviews update\");\n    return () => stopSync();\n  }, [reviewRepository, userId]);\n\n  const onLogout = () => {\n    authService.logout();\n    window.localStorage.removeItem(\"userId\");\n    history.push(\"/\");\n  };\n\n  return (\n    <div className={styles.review}>\n      <button className={styles.logoutButton} onClick={onLogout}>\n        logout\n      </button>\n      <h1 className={styles.title}>My Reviews</h1>\n\n      <ul className={styles.list}>\n        {Object.keys(reviews).map(key => (\n          <ReviewItem\n            key={key}\n            review={reviews[key]}\n            movieDB={movieDB}\n            reviewRepository={reviewRepository}\n            userId={userId}\n            FileInput={FileInput}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MyReview;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport MovieDetail from \"./components/movie_detail/movie_detail\";\nimport MainPage from \"./components/main_page/main_page\";\nimport SearchResult from \"./components/search_result/search_result\";\nimport Login from \"./components/login/login\";\nimport Header from \"./components/header/header\";\nimport styles from \"./app.module.css\";\nimport MyReview from \"./components/my_review/my_review\";\nfunction App({ authService, movieDB, reviewRepository, FileInput }) {\n  const [movies, setMovies] = useState([]);\n\n  const onSearch = query => {\n    movieDB\n      .search(query) //\n      .then(items => {\n        setMovies(items);\n      });\n  };\n\n  return (\n    <div className={styles.app}>\n      <BrowserRouter>\n        <Header onSearch={onSearch} authService={authService} />\n        <Switch>\n          <Route exact path=\"/\">\n            <MainPage movieDB={movieDB} authService={authService} />\n          </Route>\n          <Route exact path=\"/login\">\n            <Login authService={authService} />\n          </Route>\n          <Route exact path=\"/search-result\">\n            <SearchResult movies={movies} />\n          </Route>\n          <Route exact path=\"/detail/:id\">\n            <MovieDetail\n              movieDB={movieDB}\n              reviewRepository={reviewRepository}\n              FileInput={FileInput}\n            />\n          </Route>\n          <Route exact path=\"/my-review\">\n            <MyReview\n              reviewRepository={reviewRepository}\n              movieDB={movieDB}\n              authService={authService}\n              FileInput={FileInput}\n            />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","class MovieDB {\n  constructor(key) {\n    this.key = key;\n    this.getRequestOptions = {\n      method: \"GET\",\n      redirect: \"follow\",\n    };\n  }\n  async mostPopular() {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/popular?language=ko-KR&sort_by=popularity.desc&region=KR&api_key=${this.key}`,\n      this.getRequestOptions\n    );\n    const result = await response.json();\n    return result.results;\n  }\n  async search(query) {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&language=ko-KR&api_key=${this.key}`,\n      this.getRequestOptions\n    );\n    const result = await response.json();\n    return result.results;\n  }\n  async movieDetail(id) {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}?language=ko-KR&api_key=70cdbfae5467ca38809a62f0d5f139ff`,\n      this.getRequestOptions\n    );\n    const result = await response.json();\n    return result;\n\n  };\n  async credits(id) {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}/credits?language=ko-KR&api_key=70cdbfae5467ca38809a62f0d5f139ff`,\n      this.getRequestOptions\n    );\n    const result = await response.json();\n    return result;\n  }\n}\nexport default MovieDB;","import firebase from 'firebase/app';\nimport 'firebase/auth'\nimport 'firebase/database';\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECTS_ID,\n};\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nexport const firebaseAuth = firebaseApp.auth();\nexport const firebaseDatabase = firebaseApp.database();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\n","import { firebaseAuth, googleProvider } from './firebase';\n\nclass AuthService {\n  login(providerName) {\n    const authProvicer = this.getProvider(providerName)\n    return firebaseAuth.signInWithPopup(authProvicer);\n  }\n  logout() {\n    firebaseAuth.signOut();\n  }\n  onAuthChange(onUserChanged) {\n    firebaseAuth.onAuthStateChanged(user => {\n      onUserChanged(user);\n    })\n  }\n  getProvider(providerName) {\n    switch (providerName) {\n      case 'Google':\n        return googleProvider\n      default:\n        throw new Error(`not supported provider ${providerName}`)\n    }\n\n  }\n\n}\nexport default AuthService;","import { firebaseDatabase } from './firebase';\nclass ReviewRepository {\n  syncReview(userId, onUpdate) {\n    const ref = firebaseDatabase.ref(`${userId}/reviews`);\n    ref.on('value', snapshot => {\n      const value = snapshot.val();\n      value && onUpdate(value);\n    });\n    return () => ref.off();\n  }\n  saveReview(userId, review) {\n    firebaseDatabase.ref(`${userId}/reviews/${review.id}`).set(review);\n\n  }\n}\nexport default ReviewRepository;","import React from \"react\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport styles from \"./image_upload_button.module.css\";\nconst ImageUploadButton = ({ imageUploader, onFileChanged, name }) => {\n  const inputRef = useRef();\n  const [loading, setLoading] = useState(false);\n  const onButtonClick = event => {\n    event.preventDefault();\n    inputRef.current.click();\n  };\n  const onChange = async event => {\n    setLoading(true);\n    const uploaded = await imageUploader.upload(event.target.files[0]);\n    setLoading(false);\n    onFileChanged({\n      name: uploaded.original_filename,\n      url: uploaded.secure_url,\n    });\n  };\n  return (\n    <div className={styles.upload}>\n      <input\n        ref={inputRef}\n        className={styles.input}\n        type=\"file\"\n        accept=\"image/*\"\n        name=\"file\"\n        onChange={onChange}\n      />\n      {!loading && (\n        <button className={styles.button} onClick={onButtonClick}>\n          {name ? name : \"이미지 업로드\"}\n        </button>\n      )}\n      {loading && <div className={styles.loading}></div>}\n    </div>\n  );\n};\n\nexport default ImageUploadButton;\n","class ImageUploader {\n  async upload(file) {\n    const data = new FormData();\n    data.append('file', file);\n    data.append('upload_preset', 'wedsvv8t');\n    const result = await fetch(\"https://api.cloudinary.com/v1_1/da2urge64/upload\",\n      {\n        method: 'POST',\n        body: data,\n      }\n    )\n    return await result.json();\n  }\n}\n\nexport default ImageUploader;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport MovieDB from './service/movieDB';\nimport AuthService from './service/auth_service';\nimport ReviewRepository from './service/review_repository';\nimport ImageUploadButton from './components/image_upload_button/image_upload_button';\nimport ImageUploader from './service/image_uploader';\nconst authService = new AuthService();\nconst movieDB = new MovieDB(process.env.REACT_APP_MOVIEDB_API_KEY);\nconst reviewRepository = new ReviewRepository();\nconst imageUploader = new ImageUploader();\nconst FileInput = props => (\n  <ImageUploadButton {...props} imageUploader={imageUploader} />\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App movieDB={movieDB} authService={authService} reviewRepository={reviewRepository} FileInput={FileInput} />\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}